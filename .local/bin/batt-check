#!/bin/bash
batt="$(acpi -b | grep 'Battery 0: Discharging' | sed -e 's/.*, \([0-9]*\)\%.*/\1/')"
if [ -n "$batt" ] && [ "$batt" -lt 15 ]; then
	if ls "$XDG_RUNTIME_DIR"/sway-ipc.*.sock; then
		swaynag --message "Battery below 15%"
	else
		for i in $(ls /tmp/.X11-unix/); do
			zenity --warning --width=1000 --height=60 --text='<span font="80">Battery below 15%</span>' --display=":$(echo $i | tr -d 'X')"
		done
	fi
fi
